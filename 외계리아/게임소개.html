<!DOCTYPE htiml>
<html>
	<head>
		<meta charset="utf-8">
		<link href="게임소개용.css" rel="stylesheet" type="text/css" />
		<title>외계리아</title>
		<style>
			body{
				margin: 0;
				cursor : url("images/cursor.png") 20 30, default;
			}
		</style>

		<script>
			localStorage.getItem("name");

			let imagefile=[
				"images/charatest0.gif",
				"images/charatest1.gif",
				"images/charatest2.gif",
				"images/charatest3.gif",
				"images/charatest4.gif",
				"images/charatest5.gif",
				"images/charatest6.gif",
				"images/charatest7.gif",
				"images/charatest8.gif",
				"images/charatest9.gif"
			];

			let charaArray = new Array();
			for(let i=0; i<imagefile.length; i++){
				charaArray[i] = new Image();
				charaArray[i].src = imagefile[i];
			}

			let next = 0;
			function changeR(img){
				if(next<9){
					next++;
					img.src = charaArray[next].src;
				}
			}
			function changeL(img){
				
				if(next!=0){
					next--;
					img.src = charaArray[next].src;
				}
			}

			
			let imagefile1=[
				"images/introtest0.png",
				"images/introtest1.png",
				"images/introtest2.png",
				"images/introtest3.png",
				"images/introtest4.png"
			];

			let charaArray1 = new Array();
			for(let a=0; a<imagefile1.length; a++){
				charaArray1[a] = new Image();
				charaArray1[a].src = imagefile1[a];
			}

			let next1 = 1;
			function changeR1(img){
				if(next1<4){
					next1++;
					img.src = charaArray1[next1].src;
				}
			}

			function changeL1(img){
				if(next1!=0){
					next1--;
					img.src = charaArray1[next1].src;
				}
			}

		</script>
	</head>

	<body>
		<style>
	        body {
	            margin: 0;
	            padding: 0;
	        }

	        .overlay {
	            position: fixed;
	            top: 0;
	            left: 0;
	            width: 100%;
	            height: 100%;
	            background: url('images/black.png') no-repeat center center fixed;
	            background-size: cover;
	            z-index: 1;
	        }

	        .over1 {
	            position: relative;
	            position: fixed;
	            top: 0;
	            left: 0;
	            width: 100%;
	            height: 100%;
	            background: url('images/loading.gif') no-repeat center center fixed;
	            z-index: 2;
	        }
    	</style>

    	

		<div id="loading"></div>
		<audio id="audio" src="audio/digital-love-127441.mp3" loop onloadstart="this.volume=0.25"></audio>
		

		
		<!--헤드 고정 -->
		<HeaderAnker1>
			<div class="paddingtop">
			<img src="images/Logo.png" alt="로고" width="60" height="40">
			</div>
			<div class="paddingtop" style="text-shadow: -2px 0px #191B1D, 0px 2px #191B1D, 2px 0px #191B1D, 0px -2px #191B1D;">
			<a href="#page1" style="margin-left: 4vw;">게임플레이</a>
			<a href="#page2" style="margin-left: 4vw;">캐릭터소개</a>
			<a href="#page3" style="margin-left: 4vw;">게임방법</a>
			<a href="#page4" style="margin-left: 4vw;">소식</a>
			<a href="#page5" style="margin-left: 4vw;">랭킹</a>
			</div>
			<div class="paddingtop" style="float: right; margin-top: 5px; margin-right: 5px;">
				<img src="images/Mplay.png" width="40" height="40" onclick="document.getElementById('audio').play()"><br>
			</div>
			<div class="paddingtop" style="float:right; margin-top: 5px; margin-right: 5px;">
				<img src="images/Mstop.png" width="40" height="40" onclick="document.getElementById('audio').pause()">
			</div>
		</HeaderAnker1>
		<!-- <HeaderAnker2>
		</HeaderAnker2> -->

		<!-- page1 게임하러가는 버튼 -->

		<gameintro>
			<a id="page1"></a>
			<div class="logoJungAng">
				<img src="images/Logo.png" alt="로고">


				<script>
					function wait(sec) {
    					let start = Date.now(), now = start;
    					while (now - start < sec * 1000) {
        					now = Date.now();
    					}
					}
					
					//var RankingName = new Array;
					// 
					function saveNickname(){
						var name = document.getElementById("nickname").value;

						localStorage.setItem("name", name);
						var RankingName = JSON.parse(localStorage.getItem("RankingName"));
						RankingName.push(name);
						var RankingName2 = JSON.stringify(RankingName);
						localStorage.setItem("RankingName", RankingName2);

														/*var RankingScore = new Array;
										var RankingName = new Array;
										RankingScore.push("st");
										RankingName.push("ar");
										var RankingScore2 = JSON.stringify(RankingScore);
										var RankingName2 = JSON.stringify(RankingName);
										localStorage.setItem("RankingScore", RankingScore2);
										localStorage.setItem("RankingName", RankingName2);
										location.href="게임소개.html";*/

														// document.write(name);
					}

					function letsgo() {
					    loadingpage(); // Show loading image
					    setTimeout(function() {
					        location.href="외계리아.html";
					    }, 3000);
					}

					function loadingpage(){
						const loadingimage = document.getElementById('loading');
						loadingimage.innerHTML = '<div class="overlay"></div><div class="over1"></div>';
						loadingimage.innerHTML += '<h4 style="color: white; text-align:center;">loading...</h4>'
					}

					function check(){
						
						
						var rankingList = localStorage.getItem("RankingScore");
						var rankingList2 = localStorage.getItem("RankingName");
    
					    
					    var parsedRanking = JSON.parse(rankingList); //스코어
					    var parsedRanking2 = JSON.parse(rankingList2); //네임
					    
					    // var sortRanking = parsedRanking.sort((a, b) => a - b);
					    // console.log(sortRanking);

					    
						let originalIndexes = [...Array(parsedRanking.length).keys()];

						let indexedNumbers = parsedRanking.map((value, index) => ({ value: Number(value), index: index }));

						indexedNumbers.sort((a, b) => b.value - a.value);

						let result = indexedNumbers.map(item => ({
						  value: item.value,
						  originalIndex: originalIndexes[item.index]
						}));

						// 숫자만 있는 배열
						let valuesArray = result.map(item => item.value);

						// 원래 인덱스만 있는 배열
						let originalIndexesArray = result.map(item => item.originalIndex);

						console.log(valuesArray);
						console.log(originalIndexesArray); //여기에 순서 들어있다.




						

						// 순서대로 출력
						let sortedNickArray = originalIndexesArray.map(index => parsedRanking2[index]);

						console.log(sortedNickArray); ///이야야어이아ㅏㅇ 여기가 스코어 높은 순으로 닉네임들 정렬됨!!!!
						for(let i=0; i<sortedNickArray.length; i++){
							document.writeln(i+1 + '위 |');
							document.writeln('닉네임 : ' + sortedNickArray[i] + ' |');
							document.writeln('점수 : ' + valuesArray[i] + '<br>');
						}
						
					}
				</script>

				<startbox>
					<!-- <form action="외계리아.html" target="_blank" name="nickname" method="get"> -->
					<input type="text" id="nickname" size="15" value="" placeholder="         nickname" style="padding:5px; ">
					<button id="gobutton" type="submit" onclick="saveNickname(); letsgo(); loadingpage();" style="margin-top: 5px; margin-left: 3px;">PLAY</button>

					<!-- action으로 뭔가 보낼 수 있나봄. 그러면 세션 스토리지 써서 뭐 잘해보셈 -->
				</startbox>
			</div>
		</gameintro>

		<!--page2 -->
		
		<div class="tuto">
			<a id="page2" style="position:absolute;"></a>
			<h1 style="position: absolute; margin-top:7vh; margin-left: 40vw; text-align: center; font-size:50px; text-shadow: -1px 0px skyblue, 0px 1px blue, 1px 0px red, 0px -1px yellow;">캐릭터 소개</h1>
			<chara>
				<img class="Lposition chara1" src="images/leftbutton.png" alt="좌" height="60" width="60" onclick="changeL(chara)">
				<img class="Rposition chara1" src="images/rightbutton.png" alt="우" height="60" width="60" onclick="changeR(chara)">
				<img id="chara" src="images/charatest0.gif" alt="설명" height="100%" width="62%" style="margin-left:6vw;">
			</chara>
			
		</div>

		<!--page2-1-->
		<div class="tuto" style="background-color: orangered;">
			<a id="page3" style="position: absolute;"></a>
			<h1 style="position: absolute; margin-top:7vh; margin-left: 41vw; text-align: center; font-size:50px; text-shadow: -1px 0px skyblue, 0px 1px blue, 1px 0px red, 0px -1px yellow;">게임 방법</h1>
			
			<chara>
				<img class="Rposition chara1" src="images/rightbutton.png" alt="우" height="60" width="60" onclick="changeR1(chara1)" style="top: 250vh;">
				<img class="Lposition chara1" src="images/leftbutton.png" alt="좌" height="60" width="60" onclick="changeL1(chara1)" style="top: 250vh;">
				<img id="chara1" src="images/introtest0.png" alt="설명" height="75%" width="75%" style="margin-top: 8.5vh;">
			</chara>
		</div>

		<!--page3-->
		<div class="tuto" style="background-color: #91FF42;">
			<h1 style="position: absolute; margin-top:10vh; margin-left: 15vw; text-align: center; font-size:50px; text-shadow: -1px 0px skyblue, 0px 1px blue, 1px 0px red, 0px -1px yellow;">SNS</h1>
			<h1 style="position: absolute; margin-top:10vh; right: 37.5vw; font-size:50px; text-shadow: -1px 0px skyblue, 0px 1px blue, 1px 0px red, 0px -1px yellow;">공지</h1>
			<a href="공지.html" target="_blank"><h1 style="position: absolute; margin-top:10vh; right: 15vw; font-size:50px; text-shadow: -1px 0px skyblue, 0px 1px blue, 1px 0px red, 0px -1px yellow;">+</h1></a>
			<a id="page4"></a>
			<div style="position:absolute; width: 30vw; height: 70vh; left: 15vw; top: 320vh;">
				<iframe src="https://syndication.twitter.com/srv/timeline-profile/screen-name/RiaAlien9429?dnt=false&embedId=twitter-widget-0&features=eyJ0ZndfdGltZWxpbmVfbGlzdCI6eyJidWNrZXQiOltdLCJ2ZXJzaW9uIjpudWxsfSwidGZ3X2ZvbGxvd2VyX2NvdW50X3N1bnNldCI6eyJidWNrZXQiOnRydWUsInZlcnNpb24iOm51bGx9LCJ0ZndfdHdlZXRfZWRpdF9iYWNrZW5kIjp7ImJ1Y2tldCI6Im9uIiwidmVyc2lvbiI6bnVsbH0sInRmd19yZWZzcmNfc2Vzc2lvbiI6eyJidWNrZXQiOiJvbiIsInZlcnNpb24iOm51bGx9LCJ0ZndfZm9zbnJfc29mdF9pbnRlcnZlbnRpb25zX2VuYWJsZWQiOnsiYnVja2V0Ijoib24iLCJ2ZXJzaW9uIjpudWxsfSwidGZ3X21peGVkX21lZGlhXzE1ODk3Ijp7ImJ1Y2tldCI6InRyZWF0bWVudCIsInZlcnNpb24iOm51bGx9LCJ0ZndfZXhwZXJpbWVudHNfY29va2llX2V4cGlyYXRpb24iOnsiYnVja2V0IjoxMjA5NjAwLCJ2ZXJzaW9uIjpudWxsfSwidGZ3X3Nob3dfYmlyZHdhdGNoX3Bpdm90c19lbmFibGVkIjp7ImJ1Y2tldCI6Im9uIiwidmVyc2lvbiI6bnVsbH0sInRmd19kdXBsaWNhdGVfc2NyaWJlc190b19zZXR0aW5ncyI6eyJidWNrZXQiOiJvbiIsInZlcnNpb24iOm51bGx9LCJ0ZndfdXNlX3Byb2ZpbGVfaW1hZ2Vfc2hhcGVfZW5hYmxlZCI6eyJidWNrZXQiOiJvbiIsInZlcnNpb24iOm51bGx9LCJ0ZndfdmlkZW9faGxzX2R5bmFtaWNfbWFuaWZlc3RzXzE1MDgyIjp7ImJ1Y2tldCI6InRydWVfYml0cmF0ZSIsInZlcnNpb24iOm51bGx9LCJ0ZndfbGVnYWN5X3RpbWVsaW5lX3N1bnNldCI6eyJidWNrZXQiOnRydWUsInZlcnNpb24iOm51bGx9LCJ0ZndfdHdlZXRfZWRpdF9mcm9udGVuZCI6eyJidWNrZXQiOiJvbiIsInZlcnNpb24iOm51bGx9fQ%3D%3D&frame=false&hideBorder=false&hideFooter=false&hideHeader=false&hideScrollBar=false&lang=ko&origin=https%3A%2F%2Fmahjongsoul.yo-star.com%2Fkr%2F&sessionId=840a8b687213292d64de678b6e0d57ef88f52ef9&showHeader=true&showReplies=false&transparent=false&widgetsVersion=01917f4d1d4cb%3A1696883169554" name="새소식" width="100%" height="100%"></iframe>
			</div>

			<div style="position:absolute; width: 30vw; height: 70vh; right: 15vw; top: 320vh;">
				<iframe src="공지.html" width="100%" height="100%"></iframe>
			</div>
		</div>

		<!--page4 -->
		
		<div class="tuto" style="background-color: lightyellow; background-image: url('images/hamburger.gif'); background-size:390px">
			<h1 style="position: absolute; margin-top:7vh; margin-left: 46vw; text-align: center; font-size:50px; text-shadow: -1px 0px skyblue, 0px 1px blue, 1px 0px red, 0px -1px yellow;">랭킹</h1>
			<a id="page5"></a>
			
			<iframe src="랭킹.html" width="80%" height="70%" style="margin: 20vh auto; display: block; text-align: center;">
						
					</iframe>
					</div>
	</body>
</html>
<!--
	1. 링크 연결
	2. 커뮤니티 연결
	3. 공지에 글마다 다 링크하기
	4. 이왕이면 테두리 못생겨서 테두리 이미지 하나 넣으면 좋을듯

	공지에 검색기능이랑, 그 선택박스 해서 태그마다 볼 수 있게끔.

	수정
	1. 앵커 위치 잘맞게
	2. 게임방법이랑 캐릭터소개에 이미지 넣기
	3. 컬러파레트 맞춰서 색상 변경&배경이미지 넣을거면 넣기
-->`
